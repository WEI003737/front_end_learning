<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
      
  <script>
    /*
    sumIntervals( [
      [1,2],
      [6, 10],
      [11, 15]
    ] ); // => 9

    sumIntervals( [
      [1,4],
      [7, 10],
      [3, 5]
    ] ); // => 7

    sumIntervals( [
      [1,5],
      [10, 20],
      [1, 6],
      [16, 19],
      [5, 11]
    ] ); // => 19
    */

    // let arr = [
    //   [1, 4],
    //   [7, 10],
    //   [3, 5]
    // ];

    // let arr = [
    //   [2, 9],
    //   [2, 6],
    //   [2, 4],
    //   [2, 5]
    // ];
    
    let arr = [
      [1, 5],
      [6, 10]
    ];

    function sumIntervals (arr) {

      let intervals = 0;

      let newArr = arr.map((item, index) => {
        let result = [];
        for (let i=item[0]; i<=item[1]; i++) {
          result.push(i);
          intervals++;
        };
        intervals--;
        return result;
      });

      console.log(intervals);

      for (let i=0; i<arr.length; i++) {
        for (let j=(i+1); j<arr.length; j++) {
          let concatArr = newArr[i].concat(newArr[j]);
          let reduceArr = concatArr.reduce((accumulator, currentValue) => {
            accumulator[currentValue] ? accumulator[currentValue] ++ : accumulator[currentValue] = 1;
            return accumulator;
          }, {});

          let arrKeys = Object.keys(reduceArr);
          arrKeys.forEach((item, index) => {
            if (reduceArr[parseInt(arrKeys[index])]>1 && reduceArr[parseInt(arrKeys[index+1])]>1) {
              intervals--;
            };
          });
          // console.log(concatArr);
          console.log(reduceArr);


        };
      };

      return intervals;
      
    };

    console.log(sumIntervals(arr));

  </script>
</body>
</html>