<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <title>list_check</title>
    <style>
        tbody tr.active{
            background: lightcoral;
        }
    </style>
</head>
<body>
    <table class="table">
        <thead class="thead-dark">
          <tr>
            <th scope="col">
                <input type="checkbox">
            </th>
            <th scope="col">First</th>
            <th scope="col">Last</th>
            <th scope="col">Handle</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">
                <input type="checkbox">
            </th>
            <td>Mark</td>
            <td>Otto</td>
            <td>@mdo</td>
          </tr>
          <tr>
            <th scope="row">
                <input type="checkbox">
            </th>
            <td>Jacob</td>
            <td>Thornton</td>
            <td>@fat</td>
          </tr>
          <tr>
            <th scope="row">
                <input type="checkbox">
            </th>
            <td>Larry</td>
            <td>the Bird</td>
            <td>@twitter</td>
          </tr>
        </tbody>
    </table>

    <!-- jquery 3.5.1 -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
    //    $("tbody th input").on("click",function() {
    //        $("tbody tr").css("background", "lightcoral");
    //        console.log("click");
    //    })

        var head = $("thead th input");
        var body = $("tbody th input");
        // console.log(head);

        body.on("click",function() {
            $(this).closest("tr").toggleClass("active");

            if(!$(this).prop("checked")) {
                head.prop("checked", false)
            }
            // console.log($(this));
        })

        head.on("click",function() {
            // $("tbody tr").toggleClass("active");

            if(head.prop("checked")) {
                body.prop("checked", true);
                $("tbody tr").addClass("active");
            } else {
                body.prop("checked", false);
                $("tbody tr").removeClass("active");
            }


        })
    </script>
</body>
</html>