<!doctype html>
<html>
<head>
<meta charset='utf-8' />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>

<title>touch event</title>

<style>
    div{
        width: 150px;
        height: 150px;
        position: absolute;
    }
    img{
        width: 100%;
        height: 100%;
        object-fit: contain;
    }
</style>

</head>
<body>
    <div><img src="./images/can.png" alt=""></div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <script>

    // function getcolor(){
    //     var color_arr = ["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];

    //     function suiji(){
    //         return Math.floor(Math.random()*16);
    //     }

    //     var colorSTR ="#"+color_arr[suiji()]+color_arr[suiji()]+color_arr[suiji()]+color_arr[suiji()]+color_arr[suiji()]+color_arr[suiji()];
    //     return colorSTR;
    // }

    var divd = $("div");

    divd.each(function(index){
    $(this).on('touchstart', function(evt) {
            // alert("");
            var e = event || evt;
            e.preventDefault();//阻止其他事件
            //要做的事情
        }).on('touchmove', function(evt) {
            var e = event || evt;
            e.preventDefault();//阻止其他事件// 如果這個元素的位置內只有一個手指的話
            //console.log(e.targetTouches)
            //console.log(event.targetTouches[0].clientX+"/"+event.targetTouches[0].clientY+"/"+event.targetTouches[0].pageX+"/"+event.targetTouches[0].pageY)
            if (e.targetTouches.length == 1) {
            var touch = e.targetTouches[0];// 把元素放在手指所在的位置
            $(this).css("left",(touch.pageX- parseInt($(this).width())/2 + 'px'));
            $(this).css("top",(touch.pageY- parseInt($(this).height())/2 + 'px'));
            // $(this).css("background", getcolor());
            }
        }).on('touchend', function(evt) {
            var e = event || evt;
            e.preventDefault();//阻止其他事件
            // $(this).css("background",getcolor());
        })

    });
    </script>
</body>
</html>